{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/global.shop-main/global.shop-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useRef}from'react';import{Upload,Settings,RefreshCw,Database,FileText,AlertCircle,CheckCircle,Clock,Lock,Mail,Globe}from'lucide-react';import{Button}from'../components/ui/button';import{Input}from'../components/ui/input';import{Label}from'../components/ui/label';import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from'../components/ui/select';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'../components/ui/card';import{Badge}from'../components/ui/badge';import{useLanguage}from'../contexts/LanguageContext';import{toast}from'sonner';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api\");export default function AdminPage(){const[activeTab,setActiveTab]=useState('dashboard');const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[isAuthenticated,setIsAuthenticated]=useState(false);const[authError,setAuthError]=useState('');const[credentials,setCredentials]=useState({username:'',password:''});const{t}=useLanguage();// Check authentication on load\nuseEffect(()=>{const savedAuth=sessionStorage.getItem('adminAuth');if(savedAuth){setIsAuthenticated(true);fetchStats(savedAuth);}else{setLoading(false);}},[]);const handleLogin=async e=>{e.preventDefault();setAuthError('');setLoading(true);const authHeader='Basic '+btoa(\"\".concat(credentials.username,\":\").concat(credentials.password));try{await axios.get(\"\".concat(API,\"/admin/auth-check\"),{headers:{'Authorization':authHeader}});sessionStorage.setItem('adminAuth',authHeader);setIsAuthenticated(true);fetchStats(authHeader);toast.success('Login successful');}catch(error){setAuthError('Invalid credentials');setLoading(false);}};const handleLogout=()=>{sessionStorage.removeItem('adminAuth');setIsAuthenticated(false);setCredentials({username:'',password:''});};const getAuthHeader=()=>{return sessionStorage.getItem('adminAuth');};const fetchStats=async auth=>{try{const response=await axios.get(\"\".concat(API,\"/admin/stats\"),{headers:{'Authorization':auth||getAuthHeader()}});setStats(response.data);}catch(error){var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){handleLogout();}console.error('Failed to fetch stats:',error);}finally{setLoading(false);}};// Login Screen\nif(!isAuthenticated){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-50 flex items-center justify-center px-4\",\"data-testid\":\"admin-login\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-[#FB7701] rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Lock,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsx(CardTitle,{className:\"text-2xl\",children:\"Admin Login\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Enter your credentials to access the admin panel\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[authError&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),authError]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:credentials.username,onChange:e=>setCredentials(_objectSpread(_objectSpread({},credentials),{},{username:e.target.value})),placeholder:\"Enter username\",required:true,\"data-testid\":\"admin-username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:credentials.password,onChange:e=>setCredentials(_objectSpread(_objectSpread({},credentials),{},{password:e.target.value})),placeholder:\"Enter password\",required:true,\"data-testid\":\"admin-password\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-full bg-[#FB7701] hover:bg-[#E66A00]\",disabled:loading,\"data-testid\":\"admin-login-btn\",children:loading?'Logging in...':'Login'})]})})]})});}const tabs=[{id:'dashboard',label:'Dashboard',icon:Database},{id:'import',label:'Feed Import',icon:Upload},{id:'settings',label:'API Settings',icon:Settings},{id:'site',label:'Site Settings',icon:Globe},{id:'history',label:'Sync History',icon:RefreshCw}];return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-50\",\"data-testid\":\"admin-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-900\",children:\"Admin Panel\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:handleLogout,\"data-testid\":\"admin-logout\",children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8\",children:[/*#__PURE__*/_jsx(\"aside\",{className:\"lg:w-64 flex-shrink-0\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white rounded-xl border border-slate-200 p-4 space-y-2\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"admin-nav w-full \".concat(activeTab===tab.id?'active':''),\"data-testid\":\"admin-tab-\".concat(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.id))})}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsx(DashboardTab,{stats:stats,loading:loading}),activeTab==='import'&&/*#__PURE__*/_jsx(ImportTab,{onSuccess:()=>fetchStats(),getAuthHeader:getAuthHeader}),activeTab==='settings'&&/*#__PURE__*/_jsx(SettingsTab,{getAuthHeader:getAuthHeader}),activeTab==='site'&&/*#__PURE__*/_jsx(SiteSettingsTab,{getAuthHeader:getAuthHeader}),activeTab==='history'&&/*#__PURE__*/_jsx(HistoryTab,{stats:stats})]})]})]})});}function DashboardTab(_ref){var _stats$total_products,_stats$recent_imports;let{stats,loading}=_ref;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2\",children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium text-slate-500\",children:\"Total Products\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-slate-900\",children:(stats===null||stats===void 0?void 0:(_stats$total_products=stats.total_products)===null||_stats$total_products===void 0?void 0:_stats$total_products.toLocaleString())||0})})]}),(stats===null||stats===void 0?void 0:stats.products_by_platform)&&Object.entries(stats.products_by_platform).map(_ref2=>{let[platform,count]=_ref2;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2\",children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium text-slate-500 capitalize\",children:platform})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-slate-900\",children:(count===null||count===void 0?void 0:count.toLocaleString())||0})})]},platform);})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Recent Imports\"})}),/*#__PURE__*/_jsx(CardContent,{children:(stats===null||stats===void 0?void 0:(_stats$recent_imports=stats.recent_imports)===null||_stats$recent_imports===void 0?void 0:_stats$recent_imports.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:stats.recent_imports.map(imp=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5 text-slate-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800 capitalize\",children:imp.platform}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:imp.filename})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(StatusBadge,{status:imp.status}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 mt-1\",children:new Date(imp.created_at).toLocaleDateString()})]})]},imp.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center py-8\",children:\"No imports yet\"})})]})]});}function ImportTab(_ref3){let{onSuccess,getAuthHeader}=_ref3;const[platform,setPlatform]=useState('');const[file,setFile]=useState(null);const[uploading,setUploading]=useState(false);const[dragOver,setDragOver]=useState(false);const fileInputRef=useRef(null);const handleDrop=e=>{e.preventDefault();setDragOver(false);const droppedFile=e.dataTransfer.files[0];if(droppedFile&&(droppedFile.name.endsWith('.csv')||droppedFile.name.endsWith('.xml'))){setFile(droppedFile);}else{toast.error('Please upload a CSV or XML file');}};const handleUpload=async()=>{if(!platform||!file){toast.error('Please select a platform and upload a file');return;}setUploading(true);const formData=new FormData();formData.append('file',file);try{const response=await axios.post(\"\".concat(API,\"/admin/feeds/import?platform=\").concat(platform),formData,{headers:{'Content-Type':'multipart/form-data','Authorization':getAuthHeader()}});toast.success('Import successful',{description:\"\".concat(response.data.products_imported,\" imported, \").concat(response.data.products_updated,\" updated\")});setFile(null);setPlatform('');onSuccess();}catch(error){var _error$response2,_error$response2$data;toast.error('Import failed',{description:((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'An error occurred'});}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Import Feed\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Import product feeds from affiliate networks (CSV/XML format)\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Select Platform\"}),/*#__PURE__*/_jsxs(Select,{value:platform,onValueChange:setPlatform,children:[/*#__PURE__*/_jsx(SelectTrigger,{\"data-testid\":\"platform-select\",children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select platform...\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"aliexpress\",children:\"AliExpress\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"temu\",children:\"Temu\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"shein\",children:\"Shein\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Upload File\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-zone \".concat(dragOver?'border-[#FB7701] bg-orange-50':''),onDragOver:e=>{e.preventDefault();setDragOver(true);},onDragLeave:()=>setDragOver(false),onDrop:handleDrop,onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,className:\"hidden\",accept:\".csv,.xml\",onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(Upload,{className:\"h-10 w-10 mx-auto mb-4 text-slate-400\"}),file?/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800\",children:file.name}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800\",children:\"Drop your file here or click to browse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mt-1\",children:\"CSV or XML files supported\"})]})]})]}),/*#__PURE__*/_jsx(Button,{className:\"w-full bg-[#FB7701] hover:bg-[#E66A00]\",onClick:handleUpload,disabled:!platform||!file||uploading,\"data-testid\":\"import-btn\",children:uploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 animate-spin\"}),\"Processing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{className:\"h-4 w-4 mr-2\"}),\"Import Feed\"]})})]})]});}function SettingsTab(_ref4){let{getAuthHeader}=_ref4;const[settings,setSettings]=useState({aliexpress_app_key:'',aliexpress_app_secret:'',aliexpress_tracking_id:'',temu_affiliate_id:'',temu_api_key:'',shein_affiliate_id:'',shein_api_key:''});const[saving,setSaving]=useState(false);useEffect(()=>{fetchSettings();},[]);const fetchSettings=async()=>{try{const response=await axios.get(\"\".concat(API,\"/admin/settings\"),{headers:{'Authorization':getAuthHeader()}});if(response.data){setSettings(prev=>_objectSpread(_objectSpread({},prev),response.data));}}catch(error){console.error('Failed to fetch settings:',error);}};const handleSave=async()=>{setSaving(true);try{await axios.post(\"\".concat(API,\"/admin/settings\"),settings,{headers:{'Authorization':getAuthHeader()}});toast.success('Settings saved successfully');}catch(error){toast.error('Failed to save settings');}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white text-sm font-bold\",children:\"A\"}),\"AliExpress API\"]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Configure AliExpress Affiliate API for automatic product sync\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"App Key\"}),/*#__PURE__*/_jsx(Input,{value:settings.aliexpress_app_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aliexpress_app_key:e.target.value})),placeholder:\"Enter App Key\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"App Secret\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:settings.aliexpress_app_secret,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aliexpress_app_secret:e.target.value})),placeholder:\"Enter App Secret\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Tracking ID\"}),/*#__PURE__*/_jsx(Input,{value:settings.aliexpress_tracking_id,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aliexpress_tracking_id:e.target.value})),placeholder:\"Enter Affiliate Tracking ID\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white text-sm font-bold\",children:\"T\"}),\"Temu Affiliate\"]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Configure Temu affiliate settings (manual links supported)\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Affiliate ID\"}),/*#__PURE__*/_jsx(Input,{value:settings.temu_affiliate_id,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{temu_affiliate_id:e.target.value})),placeholder:\"Enter Temu Affiliate ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"API Key (optional)\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:settings.temu_api_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{temu_api_key:e.target.value})),placeholder:\"Enter API Key if available\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-50 rounded-lg p-3 text-sm text-orange-700\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Temu operates in semi-automatic mode. Import products via CSV/XML with your affiliate links.\"})})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white text-sm font-bold\",children:\"S\"}),\"Shein Affiliate\"]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Configure Shein affiliate settings (manual links supported)\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Affiliate ID\"}),/*#__PURE__*/_jsx(Input,{value:settings.shein_affiliate_id,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{shein_affiliate_id:e.target.value})),placeholder:\"Enter Shein Affiliate ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"API Key (optional)\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:settings.shein_api_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{shein_api_key:e.target.value})),placeholder:\"Enter API Key if available\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-3 text-sm text-gray-700\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Shein operates in semi-automatic mode. Import products via CSV/XML with your affiliate links.\"})})]})]}),/*#__PURE__*/_jsx(Button,{className:\"w-full bg-slate-900 text-white\",onClick:handleSave,disabled:saving,\"data-testid\":\"save-settings-btn\",children:saving?'Saving...':'Save All Settings'})]});}function SiteSettingsTab(_ref5){let{getAuthHeader}=_ref5;const[settings,setSettings]=useState({contact_email:'',site_name:'GLOBAL',footer_text:''});const[saving,setSaving]=useState(false);useEffect(()=>{fetchSettings();},[]);const fetchSettings=async()=>{try{const response=await axios.get(\"\".concat(API,\"/admin/site-settings\"),{headers:{'Authorization':getAuthHeader()}});if(response.data){setSettings(prev=>_objectSpread(_objectSpread({},prev),response.data));}}catch(error){console.error('Failed to fetch site settings:',error);}};const handleSave=async()=>{setSaving(true);try{await axios.post(\"\".concat(API,\"/admin/site-settings\"),settings,{headers:{'Authorization':getAuthHeader()}});toast.success('Site settings saved successfully');}catch(error){toast.error('Failed to save site settings');}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Globe,{className:\"h-5 w-5\"}),\"Site Settings\"]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Configure public site information displayed in the footer\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Site Name\"}),/*#__PURE__*/_jsx(Input,{value:settings.site_name,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{site_name:e.target.value})),placeholder:\"GLOBAL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(Label,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Mail,{className:\"h-4 w-4\"}),\"Contact Email\"]}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:settings.contact_email||'',onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{contact_email:e.target.value})),placeholder:\"contact@yoursite.com\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500\",children:\"Leave empty to hide contact email in footer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Footer Text (optional)\"}),/*#__PURE__*/_jsx(Input,{value:settings.footer_text||'',onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{footer_text:e.target.value})),placeholder:\"Custom footer message\"})]}),/*#__PURE__*/_jsx(Button,{className:\"w-full bg-[#FB7701] hover:bg-[#E66A00]\",onClick:handleSave,disabled:saving,children:saving?'Saving...':'Save Site Settings'})]})]});}function HistoryTab(_ref6){var _stats$recent_imports2,_stats$recent_syncs;let{stats}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Import History\"})}),/*#__PURE__*/_jsx(CardContent,{children:(stats===null||stats===void 0?void 0:(_stats$recent_imports2=stats.recent_imports)===null||_stats$recent_imports2===void 0?void 0:_stats$recent_imports2.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:stats.recent_imports.map(imp=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5 text-slate-500\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800\",children:imp.filename}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 capitalize\",children:imp.platform})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(StatusBadge,{status:imp.status}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-500 mt-1\",children:[imp.products_imported||0,\" imported, \",imp.products_updated||0,\" updated\"]})]})]},imp.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center py-8\",children:\"No import history\"})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Sync History\"})}),/*#__PURE__*/_jsx(CardContent,{children:(stats===null||stats===void 0?void 0:(_stats$recent_syncs=stats.recent_syncs)===null||_stats$recent_syncs===void 0?void 0:_stats$recent_syncs.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:stats.recent_syncs.map(sync=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"h-5 w-5 text-slate-500\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800 capitalize\",children:sync.platform}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-500\",children:[sync.sync_type,\" sync\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(StatusBadge,{status:sync.status}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-500 mt-1\",children:[sync.products_synced||0,\" products\"]})]})]},sync.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center py-8\",children:\"No sync history\"})})]})]});}function StatusBadge(_ref7){let{status}=_ref7;const statusConfig={pending:{icon:Clock,className:'bg-yellow-100 text-yellow-800'},processing:{icon:RefreshCw,className:'bg-blue-100 text-blue-800'},completed:{icon:CheckCircle,className:'bg-green-100 text-green-800'},running:{icon:RefreshCw,className:'bg-blue-100 text-blue-800'},failed:{icon:AlertCircle,className:'bg-red-100 text-red-800'}};const config=statusConfig[status]||statusConfig.pending;const Icon=config.icon;return/*#__PURE__*/_jsxs(Badge,{className:\"\".concat(config.className,\" text-xs\"),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 mr-1\"}),status]});}","map":{"version":3,"names":["useState","useEffect","useRef","Upload","Settings","RefreshCw","Database","FileText","AlertCircle","CheckCircle","Clock","Lock","Mail","Globe","Button","Input","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Card","CardContent","CardDescription","CardHeader","CardTitle","Badge","useLanguage","toast","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","concat","process","env","REACT_APP_BACKEND_URL","AdminPage","activeTab","setActiveTab","stats","setStats","loading","setLoading","isAuthenticated","setIsAuthenticated","authError","setAuthError","credentials","setCredentials","username","password","t","savedAuth","sessionStorage","getItem","fetchStats","handleLogin","e","preventDefault","authHeader","btoa","get","headers","setItem","success","error","handleLogout","removeItem","getAuthHeader","auth","response","data","_error$response","status","console","className","children","onSubmit","type","value","onChange","_objectSpread","target","placeholder","required","disabled","tabs","id","label","icon","variant","onClick","map","tab","DashboardTab","ImportTab","onSuccess","SettingsTab","SiteSettingsTab","HistoryTab","_ref","_stats$total_products","_stats$recent_imports","total_products","toLocaleString","products_by_platform","Object","entries","_ref2","platform","count","recent_imports","length","imp","filename","StatusBadge","Date","created_at","toLocaleDateString","_ref3","setPlatform","file","setFile","uploading","setUploading","dragOver","setDragOver","fileInputRef","handleDrop","droppedFile","dataTransfer","files","name","endsWith","handleUpload","formData","FormData","append","post","description","products_imported","products_updated","_error$response2","_error$response2$data","detail","onValueChange","onDragOver","onDragLeave","onDrop","_fileInputRef$current","current","click","ref","accept","_ref4","settings","setSettings","aliexpress_app_key","aliexpress_app_secret","aliexpress_tracking_id","temu_affiliate_id","temu_api_key","shein_affiliate_id","shein_api_key","saving","setSaving","fetchSettings","prev","handleSave","_ref5","contact_email","site_name","footer_text","_ref6","_stats$recent_imports2","_stats$recent_syncs","recent_syncs","sync","sync_type","products_synced","_ref7","statusConfig","pending","processing","completed","running","failed","config","Icon"],"sources":["C:/Users/Lenovo/Desktop/global.shop-main/global.shop-main/src/pages/AdminPage.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Upload, Settings, RefreshCw, Database, FileText, AlertCircle, CheckCircle, Clock, Lock, Mail, Globe } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../components/ui/select';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '../components/ui/card';\nimport { Badge } from '../components/ui/badge';\nimport { useLanguage } from '../contexts/LanguageContext';\nimport { toast } from 'sonner';\nimport axios from 'axios';\n\nconst API = `${process.env.REACT_APP_BACKEND_URL}/api`;\n\nexport default function AdminPage() {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [credentials, setCredentials] = useState({ username: '', password: '' });\n  const { t } = useLanguage();\n\n  // Check authentication on load\n  useEffect(() => {\n    const savedAuth = sessionStorage.getItem('adminAuth');\n    if (savedAuth) {\n      setIsAuthenticated(true);\n      fetchStats(savedAuth);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setAuthError('');\n    setLoading(true);\n    \n    const authHeader = 'Basic ' + btoa(`${credentials.username}:${credentials.password}`);\n    \n    try {\n      await axios.get(`${API}/admin/auth-check`, {\n        headers: { 'Authorization': authHeader }\n      });\n      \n      sessionStorage.setItem('adminAuth', authHeader);\n      setIsAuthenticated(true);\n      fetchStats(authHeader);\n      toast.success('Login successful');\n    } catch (error) {\n      setAuthError('Invalid credentials');\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    sessionStorage.removeItem('adminAuth');\n    setIsAuthenticated(false);\n    setCredentials({ username: '', password: '' });\n  };\n\n  const getAuthHeader = () => {\n    return sessionStorage.getItem('adminAuth');\n  };\n\n  const fetchStats = async (auth) => {\n    try {\n      const response = await axios.get(`${API}/admin/stats`, {\n        headers: { 'Authorization': auth || getAuthHeader() }\n      });\n      setStats(response.data);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        handleLogout();\n      }\n      console.error('Failed to fetch stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Login Screen\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center px-4\" data-testid=\"admin-login\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader className=\"text-center\">\n            <div className=\"w-16 h-16 bg-[#FB7701] rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Lock className=\"h-8 w-8 text-white\" />\n            </div>\n            <CardTitle className=\"text-2xl\">Admin Login</CardTitle>\n            <CardDescription>Enter your credentials to access the admin panel</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              {authError && (\n                <div className=\"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  {authError}\n                </div>\n              )}\n              <div className=\"space-y-2\">\n                <Label>Username</Label>\n                <Input\n                  type=\"text\"\n                  value={credentials.username}\n                  onChange={(e) => setCredentials({ ...credentials, username: e.target.value })}\n                  placeholder=\"Enter username\"\n                  required\n                  data-testid=\"admin-username\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Password</Label>\n                <Input\n                  type=\"password\"\n                  value={credentials.password}\n                  onChange={(e) => setCredentials({ ...credentials, password: e.target.value })}\n                  placeholder=\"Enter password\"\n                  required\n                  data-testid=\"admin-password\"\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full bg-[#FB7701] hover:bg-[#E66A00]\"\n                disabled={loading}\n                data-testid=\"admin-login-btn\"\n              >\n                {loading ? 'Logging in...' : 'Login'}\n              </Button>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const tabs = [\n    { id: 'dashboard', label: 'Dashboard', icon: Database },\n    { id: 'import', label: 'Feed Import', icon: Upload },\n    { id: 'settings', label: 'API Settings', icon: Settings },\n    { id: 'site', label: 'Site Settings', icon: Globe },\n    { id: 'history', label: 'Sync History', icon: RefreshCw },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-slate-50\" data-testid=\"admin-page\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <h1 className=\"text-3xl font-bold text-slate-900\">Admin Panel</h1>\n          <Button variant=\"outline\" onClick={handleLogout} data-testid=\"admin-logout\">\n            Logout\n          </Button>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          <aside className=\"lg:w-64 flex-shrink-0\">\n            <nav className=\"bg-white rounded-xl border border-slate-200 p-4 space-y-2\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`admin-nav w-full ${activeTab === tab.id ? 'active' : ''}`}\n                  data-testid={`admin-tab-${tab.id}`}\n                >\n                  <tab.icon className=\"h-5 w-5\" />\n                  <span>{tab.label}</span>\n                </button>\n              ))}\n            </nav>\n          </aside>\n\n          <main className=\"flex-1\">\n            {activeTab === 'dashboard' && <DashboardTab stats={stats} loading={loading} />}\n            {activeTab === 'import' && <ImportTab onSuccess={() => fetchStats()} getAuthHeader={getAuthHeader} />}\n            {activeTab === 'settings' && <SettingsTab getAuthHeader={getAuthHeader} />}\n            {activeTab === 'site' && <SiteSettingsTab getAuthHeader={getAuthHeader} />}\n            {activeTab === 'history' && <HistoryTab stats={stats} />}\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction DashboardTab({ stats, loading }) {\n  if (loading) {\n    return <div className=\"text-center py-12\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-slate-500\">Total Products</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-slate-900\">\n              {stats?.total_products?.toLocaleString() || 0}\n            </div>\n          </CardContent>\n        </Card>\n\n        {stats?.products_by_platform && Object.entries(stats.products_by_platform).map(([platform, count]) => (\n          <Card key={platform}>\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-sm font-medium text-slate-500 capitalize\">{platform}</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold text-slate-900\">\n                {count?.toLocaleString() || 0}\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Recent Imports</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {stats?.recent_imports?.length > 0 ? (\n            <div className=\"space-y-3\">\n              {stats.recent_imports.map((imp) => (\n                <div key={imp.id} className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n                  <div className=\"flex items-center gap-3\">\n                    <FileText className=\"h-5 w-5 text-slate-400\" />\n                    <div>\n                      <p className=\"font-medium text-slate-800 capitalize\">{imp.platform}</p>\n                      <p className=\"text-sm text-slate-500\">{imp.filename}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <StatusBadge status={imp.status} />\n                    <p className=\"text-xs text-slate-500 mt-1\">\n                      {new Date(imp.created_at).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-slate-500 text-center py-8\">No imports yet</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction ImportTab({ onSuccess, getAuthHeader }) {\n  const [platform, setPlatform] = useState('');\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [dragOver, setDragOver] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setDragOver(false);\n    const droppedFile = e.dataTransfer.files[0];\n    if (droppedFile && (droppedFile.name.endsWith('.csv') || droppedFile.name.endsWith('.xml'))) {\n      setFile(droppedFile);\n    } else {\n      toast.error('Please upload a CSV or XML file');\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!platform || !file) {\n      toast.error('Please select a platform and upload a file');\n      return;\n    }\n\n    setUploading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await axios.post(`${API}/admin/feeds/import?platform=${platform}`, formData, {\n        headers: { \n          'Content-Type': 'multipart/form-data',\n          'Authorization': getAuthHeader()\n        }\n      });\n      \n      toast.success('Import successful', {\n        description: `${response.data.products_imported} imported, ${response.data.products_updated} updated`\n      });\n      \n      setFile(null);\n      setPlatform('');\n      onSuccess();\n    } catch (error) {\n      toast.error('Import failed', {\n        description: error.response?.data?.detail || 'An error occurred'\n      });\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Import Feed</CardTitle>\n        <CardDescription>\n          Import product feeds from affiliate networks (CSV/XML format)\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <Label>Select Platform</Label>\n          <Select value={platform} onValueChange={setPlatform}>\n            <SelectTrigger data-testid=\"platform-select\">\n              <SelectValue placeholder=\"Select platform...\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"aliexpress\">AliExpress</SelectItem>\n              <SelectItem value=\"temu\">Temu</SelectItem>\n              <SelectItem value=\"shein\">Shein</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label>Upload File</Label>\n          <div\n            className={`upload-zone ${dragOver ? 'border-[#FB7701] bg-orange-50' : ''}`}\n            onDragOver={(e) => { e.preventDefault(); setDragOver(true); }}\n            onDragLeave={() => setDragOver(false)}\n            onDrop={handleDrop}\n            onClick={() => fileInputRef.current?.click()}\n          >\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"hidden\"\n              accept=\".csv,.xml\"\n              onChange={(e) => setFile(e.target.files[0])}\n            />\n            <Upload className=\"h-10 w-10 mx-auto mb-4 text-slate-400\" />\n            {file ? (\n              <p className=\"font-medium text-slate-800\">{file.name}</p>\n            ) : (\n              <>\n                <p className=\"font-medium text-slate-800\">Drop your file here or click to browse</p>\n                <p className=\"text-sm text-slate-500 mt-1\">CSV or XML files supported</p>\n              </>\n            )}\n          </div>\n        </div>\n\n        <Button\n          className=\"w-full bg-[#FB7701] hover:bg-[#E66A00]\"\n          onClick={handleUpload}\n          disabled={!platform || !file || uploading}\n          data-testid=\"import-btn\"\n        >\n          {uploading ? (\n            <>\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n              Processing...\n            </>\n          ) : (\n            <>\n              <Upload className=\"h-4 w-4 mr-2\" />\n              Import Feed\n            </>\n          )}\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SettingsTab({ getAuthHeader }) {\n  const [settings, setSettings] = useState({\n    aliexpress_app_key: '',\n    aliexpress_app_secret: '',\n    aliexpress_tracking_id: '',\n    temu_affiliate_id: '',\n    temu_api_key: '',\n    shein_affiliate_id: '',\n    shein_api_key: ''\n  });\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const response = await axios.get(`${API}/admin/settings`, {\n        headers: { 'Authorization': getAuthHeader() }\n      });\n      if (response.data) {\n        setSettings(prev => ({ ...prev, ...response.data }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch settings:', error);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      await axios.post(`${API}/admin/settings`, settings, {\n        headers: { 'Authorization': getAuthHeader() }\n      });\n      toast.success('Settings saved successfully');\n    } catch (error) {\n      toast.error('Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* AliExpress */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <span className=\"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white text-sm font-bold\">A</span>\n            AliExpress API\n          </CardTitle>\n          <CardDescription>Configure AliExpress Affiliate API for automatic product sync</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>App Key</Label>\n              <Input\n                value={settings.aliexpress_app_key}\n                onChange={(e) => setSettings({ ...settings, aliexpress_app_key: e.target.value })}\n                placeholder=\"Enter App Key\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>App Secret</Label>\n              <Input\n                type=\"password\"\n                value={settings.aliexpress_app_secret}\n                onChange={(e) => setSettings({ ...settings, aliexpress_app_secret: e.target.value })}\n                placeholder=\"Enter App Secret\"\n              />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Tracking ID</Label>\n            <Input\n              value={settings.aliexpress_tracking_id}\n              onChange={(e) => setSettings({ ...settings, aliexpress_tracking_id: e.target.value })}\n              placeholder=\"Enter Affiliate Tracking ID\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Temu */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <span className=\"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white text-sm font-bold\">T</span>\n            Temu Affiliate\n          </CardTitle>\n          <CardDescription>Configure Temu affiliate settings (manual links supported)</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Affiliate ID</Label>\n              <Input\n                value={settings.temu_affiliate_id}\n                onChange={(e) => setSettings({ ...settings, temu_affiliate_id: e.target.value })}\n                placeholder=\"Enter Temu Affiliate ID\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>API Key (optional)</Label>\n              <Input\n                type=\"password\"\n                value={settings.temu_api_key}\n                onChange={(e) => setSettings({ ...settings, temu_api_key: e.target.value })}\n                placeholder=\"Enter API Key if available\"\n              />\n            </div>\n          </div>\n          <div className=\"bg-orange-50 rounded-lg p-3 text-sm text-orange-700\">\n            <p>Temu operates in semi-automatic mode. Import products via CSV/XML with your affiliate links.</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Shein */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <span className=\"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white text-sm font-bold\">S</span>\n            Shein Affiliate\n          </CardTitle>\n          <CardDescription>Configure Shein affiliate settings (manual links supported)</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Affiliate ID</Label>\n              <Input\n                value={settings.shein_affiliate_id}\n                onChange={(e) => setSettings({ ...settings, shein_affiliate_id: e.target.value })}\n                placeholder=\"Enter Shein Affiliate ID\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>API Key (optional)</Label>\n              <Input\n                type=\"password\"\n                value={settings.shein_api_key}\n                onChange={(e) => setSettings({ ...settings, shein_api_key: e.target.value })}\n                placeholder=\"Enter API Key if available\"\n              />\n            </div>\n          </div>\n          <div className=\"bg-gray-50 rounded-lg p-3 text-sm text-gray-700\">\n            <p>Shein operates in semi-automatic mode. Import products via CSV/XML with your affiliate links.</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Button\n        className=\"w-full bg-slate-900 text-white\"\n        onClick={handleSave}\n        disabled={saving}\n        data-testid=\"save-settings-btn\"\n      >\n        {saving ? 'Saving...' : 'Save All Settings'}\n      </Button>\n    </div>\n  );\n}\n\nfunction SiteSettingsTab({ getAuthHeader }) {\n  const [settings, setSettings] = useState({\n    contact_email: '',\n    site_name: 'GLOBAL',\n    footer_text: ''\n  });\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const response = await axios.get(`${API}/admin/site-settings`, {\n        headers: { 'Authorization': getAuthHeader() }\n      });\n      if (response.data) {\n        setSettings(prev => ({ ...prev, ...response.data }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch site settings:', error);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      await axios.post(`${API}/admin/site-settings`, settings, {\n        headers: { 'Authorization': getAuthHeader() }\n      });\n      toast.success('Site settings saved successfully');\n    } catch (error) {\n      toast.error('Failed to save site settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Globe className=\"h-5 w-5\" />\n          Site Settings\n        </CardTitle>\n        <CardDescription>Configure public site information displayed in the footer</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Label>Site Name</Label>\n          <Input\n            value={settings.site_name}\n            onChange={(e) => setSettings({ ...settings, site_name: e.target.value })}\n            placeholder=\"GLOBAL\"\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label className=\"flex items-center gap-2\">\n            <Mail className=\"h-4 w-4\" />\n            Contact Email\n          </Label>\n          <Input\n            type=\"email\"\n            value={settings.contact_email || ''}\n            onChange={(e) => setSettings({ ...settings, contact_email: e.target.value })}\n            placeholder=\"contact@yoursite.com\"\n          />\n          <p className=\"text-xs text-slate-500\">Leave empty to hide contact email in footer</p>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label>Footer Text (optional)</Label>\n          <Input\n            value={settings.footer_text || ''}\n            onChange={(e) => setSettings({ ...settings, footer_text: e.target.value })}\n            placeholder=\"Custom footer message\"\n          />\n        </div>\n\n        <Button\n          className=\"w-full bg-[#FB7701] hover:bg-[#E66A00]\"\n          onClick={handleSave}\n          disabled={saving}\n        >\n          {saving ? 'Saving...' : 'Save Site Settings'}\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction HistoryTab({ stats }) {\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Import History</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {stats?.recent_imports?.length > 0 ? (\n            <div className=\"space-y-3\">\n              {stats.recent_imports.map((imp) => (\n                <div key={imp.id} className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center\">\n                      <FileText className=\"h-5 w-5 text-slate-500\" />\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-slate-800\">{imp.filename}</p>\n                      <p className=\"text-sm text-slate-500 capitalize\">{imp.platform}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <StatusBadge status={imp.status} />\n                    <p className=\"text-sm text-slate-500 mt-1\">\n                      {imp.products_imported || 0} imported, {imp.products_updated || 0} updated\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-slate-500 text-center py-8\">No import history</p>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Sync History</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {stats?.recent_syncs?.length > 0 ? (\n            <div className=\"space-y-3\">\n              {stats.recent_syncs.map((sync) => (\n                <div key={sync.id} className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center\">\n                      <RefreshCw className=\"h-5 w-5 text-slate-500\" />\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-slate-800 capitalize\">{sync.platform}</p>\n                      <p className=\"text-sm text-slate-500\">{sync.sync_type} sync</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <StatusBadge status={sync.status} />\n                    <p className=\"text-sm text-slate-500 mt-1\">{sync.products_synced || 0} products</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-slate-500 text-center py-8\">No sync history</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction StatusBadge({ status }) {\n  const statusConfig = {\n    pending: { icon: Clock, className: 'bg-yellow-100 text-yellow-800' },\n    processing: { icon: RefreshCw, className: 'bg-blue-100 text-blue-800' },\n    completed: { icon: CheckCircle, className: 'bg-green-100 text-green-800' },\n    running: { icon: RefreshCw, className: 'bg-blue-100 text-blue-800' },\n    failed: { icon: AlertCircle, className: 'bg-red-100 text-red-800' }\n  };\n\n  const config = statusConfig[status] || statusConfig.pending;\n  const Icon = config.icon;\n\n  return (\n    <Badge className={`${config.className} text-xs`}>\n      <Icon className=\"h-3 w-3 mr-1\" />\n      {status}\n    </Badge>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}