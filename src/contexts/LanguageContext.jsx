import { createContext, useContext, useState, useEffect } from 'react';

// Extensible translations - add new languages by adding new key
const translations = {
  en: {
    // Header
    search_placeholder: "Search products...",
    all_products: "All Products",
    admin: "Admin",
    categories: "Categories",
    
    // Hero
    hero_title: "Compare Prices.",
    hero_subtitle: "Shop Smarter!",
    hero_description: "Compare prices from AliExpress, Temu, and Shein instantly. Smart shopping, smart savings!",
    hero_cta: "Start Comparing",
    
    // Features
    best_prices: "Best Prices",
    compare_platforms: "Compare 3 platforms",
    auto_updates: "Auto Updates",
    realtime_sync: "Real-time sync",
    safe_shopping: "Safe Shopping",
    direct_stores: "Direct to stores",
    
    // Products
    products: "products",
    view_all: "View All",
    popular_products: "Popular Products",
    most_compared: "Most compared products",
    compare_prices: "Compare Prices",
    similar_products: "Similar Products",
    product_details: "Product Details",
    product_description: "Product Description",
    
    // Price Comparison
    price_comparison: "Price Comparison",
    best_price: "Best Price",
    from: "from",
    buy_now: "Buy Now",
    out_of_stock: "Out of Stock",
    savings: "Save",
    in_stock: "In Stock",
    
    // Filters
    price_range: "Price Range",
    platforms: "Platforms",
    filters: "Filters",
    clear_filters: "Clear Filters",
    sort_by: "Sort by",
    popular: "Popular",
    price_low_high: "Price: Low to High",
    price_high_low: "Price: High to Low",
    newest: "Newest",
    biggest_discount: "Biggest Discount",
    
    // Footer
    footer_description: "Compare prices across AliExpress, Temu, and Shein. Find the best deals instantly.",
    quick_links: "Quick Links",
    home: "Home",
    contact: "Contact",
    privacy_policy: "Privacy Policy",
    terms_of_service: "Terms of Service",
    all_rights_reserved: "All rights reserved.",
    
    // Misc
    no_products_found: "No products found",
    try_adjusting_filters: "Try adjusting your filters",
    product_not_found: "Product not found",
    link_copied: "Link copied!",
    share: "Share",
    everything_here: "Everything you need is here",
    dont_miss: "Don't Miss Better Prices!",
    compare_thousands: "Compare thousands of products with GLOBAL and find the best deals!",
  },
  
  tr: {
    search_placeholder: "ÃœrÃ¼n ara...",
    all_products: "TÃ¼m ÃœrÃ¼nler",
    admin: "YÃ¶netici",
    categories: "Kategoriler",
    hero_title: "FiyatlarÄ±",
    hero_subtitle: "KarÅŸÄ±laÅŸtÄ±r!",
    hero_description: "AliExpress, Temu ve Shein'den en uygun fiyatlarÄ± anÄ±nda karÅŸÄ±laÅŸtÄ±r. AkÄ±llÄ± alÄ±ÅŸveriÅŸ, akÄ±llÄ± tasarruf!",
    hero_cta: "KarÅŸÄ±laÅŸtÄ±rmaya BaÅŸla",
    best_prices: "En Ä°yi Fiyatlar",
    compare_platforms: "3 platformu karÅŸÄ±laÅŸtÄ±r",
    auto_updates: "Otomatik GÃ¼ncelleme",
    realtime_sync: "AnlÄ±k senkronizasyon",
    safe_shopping: "GÃ¼venli AlÄ±ÅŸveriÅŸ",
    direct_stores: "MaÄŸazalara yÃ¶nlendirme",
    products: "Ã¼rÃ¼n",
    view_all: "TÃ¼mÃ¼nÃ¼ GÃ¶r",
    popular_products: "PopÃ¼ler ÃœrÃ¼nler",
    most_compared: "En Ã§ok karÅŸÄ±laÅŸtÄ±rÄ±lan Ã¼rÃ¼nler",
    compare_prices: "FiyatlarÄ± KarÅŸÄ±laÅŸtÄ±r",
    similar_products: "Benzer ÃœrÃ¼nler",
    product_details: "ÃœrÃ¼n DetaylarÄ±",
    product_description: "ÃœrÃ¼n AÃ§Ä±klamasÄ±",
    price_comparison: "Fiyat KarÅŸÄ±laÅŸtÄ±rma",
    best_price: "En Ä°yi Fiyat",
    from: "kaynak",
    buy_now: "SatÄ±n Al",
    out_of_stock: "Stokta Yok",
    savings: "Tasarruf",
    in_stock: "Stokta",
    price_range: "Fiyat AralÄ±ÄŸÄ±",
    platforms: "Platformlar",
    filters: "Filtreler",
    clear_filters: "Filtreleri Temizle",
    sort_by: "SÄ±rala",
    popular: "PopÃ¼ler",
    price_low_high: "Fiyat: DÃ¼ÅŸÃ¼kten YÃ¼kseÄŸe",
    price_high_low: "Fiyat: YÃ¼ksekten DÃ¼ÅŸÃ¼ÄŸe",
    newest: "En Yeni",
    biggest_discount: "En BÃ¼yÃ¼k Ä°ndirim",
    footer_description: "AliExpress, Temu ve Shein fiyatlarÄ±nÄ± karÅŸÄ±laÅŸtÄ±rÄ±n. En iyi fÄ±rsatlarÄ± anÄ±nda bulun.",
    quick_links: "HÄ±zlÄ± BaÄŸlantÄ±lar",
    home: "Ana Sayfa",
    contact: "Ä°letiÅŸim",
    privacy_policy: "Gizlilik PolitikasÄ±",
    terms_of_service: "KullanÄ±m ÅžartlarÄ±",
    all_rights_reserved: "TÃ¼m haklarÄ± saklÄ±dÄ±r.",
    no_products_found: "ÃœrÃ¼n bulunamadÄ±",
    try_adjusting_filters: "Filtreleri deÄŸiÅŸtirmeyi deneyin",
    product_not_found: "ÃœrÃ¼n bulunamadÄ±",
    link_copied: "Link kopyalandÄ±!",
    share: "PaylaÅŸ",
    everything_here: "Ä°htiyacÄ±n olan her ÅŸey burada",
    dont_miss: "Daha Ä°yi FiyatlarÄ± KaÃ§Ä±rma!",
    compare_thousands: "GLOBAL ile binlerce Ã¼rÃ¼nÃ¼ karÅŸÄ±laÅŸtÄ±r, en uygun fiyatÄ± bul!",
  },
  
  fr: {
    search_placeholder: "Rechercher des produits...",
    all_products: "Tous les Produits",
    admin: "Admin",
    categories: "CatÃ©gories",
    hero_title: "Comparez les Prix.",
    hero_subtitle: "Achetez Malin!",
    hero_description: "Comparez instantanÃ©ment les prix d'AliExpress, Temu et Shein. Shopping intelligent, Ã©conomies intelligentes!",
    hero_cta: "Commencer Ã  Comparer",
    best_prices: "Meilleurs Prix",
    compare_platforms: "Comparer 3 plateformes",
    auto_updates: "Mises Ã  jour Auto",
    realtime_sync: "Sync en temps rÃ©el",
    safe_shopping: "Achat SÃ©curisÃ©",
    direct_stores: "Direct aux boutiques",
    products: "produits",
    view_all: "Voir Tout",
    popular_products: "Produits Populaires",
    most_compared: "Produits les plus comparÃ©s",
    compare_prices: "Comparer les Prix",
    similar_products: "Produits Similaires",
    product_details: "DÃ©tails du Produit",
    product_description: "Description du Produit",
    price_comparison: "Comparaison des Prix",
    best_price: "Meilleur Prix",
    from: "de",
    buy_now: "Acheter",
    out_of_stock: "Rupture de Stock",
    savings: "Ã‰conomisez",
    in_stock: "En Stock",
    price_range: "Gamme de Prix",
    platforms: "Plateformes",
    filters: "Filtres",
    clear_filters: "Effacer les Filtres",
    sort_by: "Trier par",
    popular: "Populaire",
    price_low_high: "Prix: Croissant",
    price_high_low: "Prix: DÃ©croissant",
    newest: "Plus RÃ©cent",
    biggest_discount: "Plus Grande Remise",
    footer_description: "Comparez les prix sur AliExpress, Temu et Shein. Trouvez les meilleures offres instantanÃ©ment.",
    quick_links: "Liens Rapides",
    home: "Accueil",
    contact: "Contact",
    privacy_policy: "Politique de ConfidentialitÃ©",
    terms_of_service: "Conditions d'Utilisation",
    all_rights_reserved: "Tous droits rÃ©servÃ©s.",
    no_products_found: "Aucun produit trouvÃ©",
    try_adjusting_filters: "Essayez d'ajuster vos filtres",
    product_not_found: "Produit non trouvÃ©",
    link_copied: "Lien copiÃ©!",
    share: "Partager",
    everything_here: "Tout ce dont vous avez besoin est ici",
    dont_miss: "Ne Manquez Pas les Meilleurs Prix!",
    compare_thousands: "Comparez des milliers de produits avec GLOBAL et trouvez les meilleures offres!",
  },
  
  de: {
    search_placeholder: "Produkte suchen...",
    all_products: "Alle Produkte",
    admin: "Admin",
    categories: "Kategorien",
    hero_title: "Preise Vergleichen.",
    hero_subtitle: "Schlauer Einkaufen!",
    hero_description: "Vergleichen Sie sofort Preise von AliExpress, Temu und Shein. Intelligentes Einkaufen, intelligentes Sparen!",
    hero_cta: "Vergleich Starten",
    best_prices: "Beste Preise",
    compare_platforms: "3 Plattformen vergleichen",
    auto_updates: "Auto-Updates",
    realtime_sync: "Echtzeit-Sync",
    safe_shopping: "Sicheres Einkaufen",
    direct_stores: "Direkt zu Shops",
    products: "Produkte",
    view_all: "Alle Anzeigen",
    popular_products: "Beliebte Produkte",
    most_compared: "Meist verglichene Produkte",
    compare_prices: "Preise Vergleichen",
    similar_products: "Ã„hnliche Produkte",
    product_details: "Produktdetails",
    product_description: "Produktbeschreibung",
    price_comparison: "Preisvergleich",
    best_price: "Bester Preis",
    from: "von",
    buy_now: "Kaufen",
    out_of_stock: "Nicht VerfÃ¼gbar",
    savings: "Sparen",
    in_stock: "Auf Lager",
    price_range: "Preisbereich",
    platforms: "Plattformen",
    filters: "Filter",
    clear_filters: "Filter LÃ¶schen",
    sort_by: "Sortieren nach",
    popular: "Beliebt",
    price_low_high: "Preis: Aufsteigend",
    price_high_low: "Preis: Absteigend",
    newest: "Neueste",
    biggest_discount: "GrÃ¶ÃŸter Rabatt",
    footer_description: "Vergleichen Sie Preise auf AliExpress, Temu und Shein. Finden Sie sofort die besten Angebote.",
    quick_links: "Schnelllinks",
    home: "Startseite",
    contact: "Kontakt",
    privacy_policy: "Datenschutz",
    terms_of_service: "Nutzungsbedingungen",
    all_rights_reserved: "Alle Rechte vorbehalten.",
    no_products_found: "Keine Produkte gefunden",
    try_adjusting_filters: "Versuchen Sie, Ihre Filter anzupassen",
    product_not_found: "Produkt nicht gefunden",
    link_copied: "Link kopiert!",
    share: "Teilen",
    everything_here: "Alles was Sie brauchen ist hier",
    dont_miss: "Verpassen Sie Nicht die Besten Preise!",
    compare_thousands: "Vergleichen Sie tausende Produkte mit GLOBAL und finden Sie die besten Angebote!",
  },
  
  it: {
    search_placeholder: "Cerca prodotti...",
    all_products: "Tutti i Prodotti",
    admin: "Admin",
    categories: "Categorie",
    hero_title: "Confronta i Prezzi.",
    hero_subtitle: "Acquista Intelligente!",
    hero_description: "Confronta istantaneamente i prezzi di AliExpress, Temu e Shein. Shopping intelligente, risparmio intelligente!",
    hero_cta: "Inizia a Confrontare",
    best_prices: "Migliori Prezzi",
    compare_platforms: "Confronta 3 piattaforme",
    auto_updates: "Aggiornamenti Auto",
    realtime_sync: "Sync in tempo reale",
    safe_shopping: "Acquisto Sicuro",
    direct_stores: "Diretto ai negozi",
    products: "prodotti",
    view_all: "Vedi Tutto",
    popular_products: "Prodotti Popolari",
    most_compared: "Prodotti piÃ¹ confrontati",
    compare_prices: "Confronta Prezzi",
    similar_products: "Prodotti Simili",
    product_details: "Dettagli Prodotto",
    product_description: "Descrizione Prodotto",
    price_comparison: "Confronto Prezzi",
    best_price: "Miglior Prezzo",
    from: "da",
    buy_now: "Acquista",
    out_of_stock: "Esaurito",
    savings: "Risparmi",
    in_stock: "Disponibile",
    price_range: "Fascia di Prezzo",
    platforms: "Piattaforme",
    filters: "Filtri",
    clear_filters: "Cancella Filtri",
    sort_by: "Ordina per",
    popular: "Popolare",
    price_low_high: "Prezzo: Crescente",
    price_high_low: "Prezzo: Decrescente",
    newest: "PiÃ¹ Recente",
    biggest_discount: "Maggior Sconto",
    footer_description: "Confronta i prezzi su AliExpress, Temu e Shein. Trova le migliori offerte istantaneamente.",
    quick_links: "Link Rapidi",
    home: "Home",
    contact: "Contatto",
    privacy_policy: "Privacy Policy",
    terms_of_service: "Termini di Servizio",
    all_rights_reserved: "Tutti i diritti riservati.",
    no_products_found: "Nessun prodotto trovato",
    try_adjusting_filters: "Prova a modificare i filtri",
    product_not_found: "Prodotto non trovato",
    link_copied: "Link copiato!",
    share: "Condividi",
    everything_here: "Tutto ciÃ² di cui hai bisogno Ã¨ qui",
    dont_miss: "Non Perdere i Prezzi Migliori!",
    compare_thousands: "Confronta migliaia di prodotti con GLOBAL e trova le migliori offerte!",
  },
  
  es: {
    search_placeholder: "Buscar productos...",
    all_products: "Todos los Productos",
    admin: "Admin",
    categories: "CategorÃ­as",
    hero_title: "Compara Precios.",
    hero_subtitle: "Â¡Compra Inteligente!",
    hero_description: "Compara precios de AliExpress, Temu y Shein al instante. Â¡Compras inteligentes, ahorros inteligentes!",
    hero_cta: "Empezar a Comparar",
    best_prices: "Mejores Precios",
    compare_platforms: "Compara 3 plataformas",
    auto_updates: "Actualizaciones Auto",
    realtime_sync: "Sync en tiempo real",
    safe_shopping: "Compra Segura",
    direct_stores: "Directo a tiendas",
    products: "productos",
    view_all: "Ver Todo",
    popular_products: "Productos Populares",
    most_compared: "Productos mÃ¡s comparados",
    compare_prices: "Comparar Precios",
    similar_products: "Productos Similares",
    product_details: "Detalles del Producto",
    product_description: "DescripciÃ³n del Producto",
    price_comparison: "ComparaciÃ³n de Precios",
    best_price: "Mejor Precio",
    from: "de",
    buy_now: "Comprar",
    out_of_stock: "Agotado",
    savings: "Ahorra",
    in_stock: "En Stock",
    price_range: "Rango de Precio",
    platforms: "Plataformas",
    filters: "Filtros",
    clear_filters: "Limpiar Filtros",
    sort_by: "Ordenar por",
    popular: "Popular",
    price_low_high: "Precio: Menor a Mayor",
    price_high_low: "Precio: Mayor a Menor",
    newest: "MÃ¡s Nuevo",
    biggest_discount: "Mayor Descuento",
    footer_description: "Compara precios en AliExpress, Temu y Shein. Encuentra las mejores ofertas al instante.",
    quick_links: "Enlaces RÃ¡pidos",
    home: "Inicio",
    contact: "Contacto",
    privacy_policy: "PolÃ­tica de Privacidad",
    terms_of_service: "TÃ©rminos de Servicio",
    all_rights_reserved: "Todos los derechos reservados.",
    no_products_found: "No se encontraron productos",
    try_adjusting_filters: "Intenta ajustar tus filtros",
    product_not_found: "Producto no encontrado",
    link_copied: "Â¡Enlace copiado!",
    share: "Compartir",
    everything_here: "Todo lo que necesitas estÃ¡ aquÃ­",
    dont_miss: "Â¡No Te Pierdas los Mejores Precios!",
    compare_thousands: "Â¡Compara miles de productos con GLOBAL y encuentra las mejores ofertas!",
  },
  
  nl: {
    search_placeholder: "Producten zoeken...",
    all_products: "Alle Producten",
    admin: "Admin",
    categories: "CategorieÃ«n",
    hero_title: "Vergelijk Prijzen.",
    hero_subtitle: "Shop Slimmer!",
    hero_description: "Vergelijk direct prijzen van AliExpress, Temu en Shein. Slim winkelen, slim besparen!",
    hero_cta: "Begin met Vergelijken",
    best_prices: "Beste Prijzen",
    compare_platforms: "Vergelijk 3 platforms",
    auto_updates: "Auto Updates",
    realtime_sync: "Realtime sync",
    safe_shopping: "Veilig Winkelen",
    direct_stores: "Direct naar winkels",
    products: "producten",
    view_all: "Bekijk Alles",
    popular_products: "Populaire Producten",
    most_compared: "Meest vergeleken producten",
    compare_prices: "Vergelijk Prijzen",
    similar_products: "Vergelijkbare Producten",
    product_details: "Productdetails",
    product_description: "Productbeschrijving",
    price_comparison: "Prijsvergelijking",
    best_price: "Beste Prijs",
    from: "van",
    buy_now: "Kopen",
    out_of_stock: "Niet op Voorraad",
    savings: "Bespaar",
    in_stock: "Op Voorraad",
    price_range: "Prijsbereik",
    platforms: "Platforms",
    filters: "Filters",
    clear_filters: "Filters Wissen",
    sort_by: "Sorteren op",
    popular: "Populair",
    price_low_high: "Prijs: Laag naar Hoog",
    price_high_low: "Prijs: Hoog naar Laag",
    newest: "Nieuwste",
    biggest_discount: "Grootste Korting",
    footer_description: "Vergelijk prijzen op AliExpress, Temu en Shein. Vind direct de beste deals.",
    quick_links: "Snelle Links",
    home: "Home",
    contact: "Contact",
    privacy_policy: "Privacybeleid",
    terms_of_service: "Servicevoorwaarden",
    all_rights_reserved: "Alle rechten voorbehouden.",
    no_products_found: "Geen producten gevonden",
    try_adjusting_filters: "Probeer je filters aan te passen",
    product_not_found: "Product niet gevonden",
    link_copied: "Link gekopieerd!",
    share: "Delen",
    everything_here: "Alles wat je nodig hebt is hier",
    dont_miss: "Mis de Beste Prijzen Niet!",
    compare_thousands: "Vergelijk duizenden producten met GLOBAL en vind de beste deals!",
  },
};

// Language metadata for the switcher
export const languageOptions = [
  { code: 'en', name: 'English', flag: 'ðŸ‡¬ðŸ‡§' },
  { code: 'tr', name: 'TÃ¼rkÃ§e', flag: 'ðŸ‡¹ðŸ‡·' },
  { code: 'fr', name: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },
  { code: 'de', name: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
  { code: 'it', name: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹' },
  { code: 'es', name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
  { code: 'nl', name: 'Nederlands', flag: 'ðŸ‡³ðŸ‡±' },
];

const LanguageContext = createContext();

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

export const LanguageProvider = ({ children }) => {
  const [language, setLanguageState] = useState(() => {
    const saved = localStorage.getItem('global_language');
    return saved && translations[saved] ? saved : 'en';
  });

  useEffect(() => {
    localStorage.setItem('global_language', language);
    document.documentElement.lang = language;
  }, [language]);

  const setLanguage = (lang) => {
    if (translations[lang]) {
      setLanguageState(lang);
    }
  };

  const t = (key) => {
    return translations[language]?.[key] || translations['en']?.[key] || key;
  };

  // Get all available languages
  const availableLanguages = languageOptions.filter(opt => translations[opt.code]);

  return (
    <LanguageContext.Provider value={{ 
      language, 
      setLanguage, 
      t, 
      availableLanguages,
      translations 
    }}>
      {children}
    </LanguageContext.Provider>
  );
};
